/* tiny_helloworld – plugin.min.js (ASCII‑only, ES5) */
define(["editor_tiny/loader"],function(loader){
return new Promise(function(resolve){
loader.getTinyMCE().then(function(tinymce){
    var PLUGIN = "tiny_helloworld/plugin";
    tinymce.PluginManager.add(PLUGIN,function(editor){
        var iconSvg = M.util.image_url("icon", "tiny_helloworld");
        editor.ui.registry.addIcon("helloworld",iconSvg);
        editor.ui.registry.addButton("helloworld",{
            icon:"helloworld",
            tooltip:"Hello World",
            onAction:function(){editor.insertContent("hello world");}
        });
        return {
            getMetadata:function(){
                return {name:"Hello World",url:"https://github.com/studio-11/tinyMCE_plugins"};
            }
        };
    });
    resolve([PLUGIN]);
}).catch(function(){
    /* Pas d'éditeur sur la page : on résout quand même. */
    resolve([]);
});
});
});
